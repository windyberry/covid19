<!DOCTYPE HTML>
<html>
<head>
<html lang="en">
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0" />
<title>COVID19 Timeline in Thailand by @windygallery</title>
<style>
body, html {
  font-family: arial, sans-serif;
  font-size: 11pt;
}
#visualization {
  box-sizing: border-box;
  width: 100%;
  height: 300px;
}
</style>
<!-- note: moment.js must be loaded before vis.js, else vis.js uses its embedded version of moment.js -->
<script src="timeline/moment.min.js"></script>
<script src="timeline/vis.js"></script>
<link href="timeline/vis-timeline-graph2d.min.css" rel="stylesheet" type="text/css" />
</head>

<body>
<center>
<h1>COVID-19 Timeline in Thailand</h1>
Source: <a href="https://covid19.th-stat.com/th/network">กรมควบคุมโรค</a>,
<style="color:#CCCCCC; font-family: monospace,monospace; font-size: 1em; ">Coding by
<a href="https://visjs.org/">@windygallery (2020)</a> v.1.0.0</style>
<br><br>
<div id="visualization"></div>


<script src="data-2020-03-31.js" crossorigin="anonymous"></script>
<script src="timeline/windyanalyzer.js" crossorigin="anonymous"></script>

<script>
function setData(dataset, names) {
  let itemCount = dataset.length;
  var groupCount = names.length;
  var groups = new vis.DataSet();
  for (var g = 0; g < names.length; g++) {
    groups.add({id: g, content: names[g]});
    // console.log("groups.add({id:"+ g+", content: "+names[g]+"});");
  }

  // create a dataset with items
  var items = new vis.DataSet();
  for (var i = 0; i < itemCount; i++) {
    let start = dataset[i].start;
    let group = dataset[i].group;
    items.add(dataset[i]);
    // console.log("items.add({id:"+ i+", group:"+group+", content: case"+i+
    // ", start: "+start+", type: 'box'});");
  }

  // create visualization
  var container = document.getElementById('visualization');
  var options = {
    groupOrder: 'content',  // groupOrder can be a property name or a sorting function
    width: '95%',
    height: '400px',
    margin: { item: 10 },
    timeAxis: {scale: 'day', step: 1},
    zoomMin: 864000000,
    zoomMax: 8640000000
  };

  var timeline = new vis.Timeline(container);
  timeline.setOptions(options);
  timeline.setGroups(groups);
  timeline.setItems(items);
}

let records = extractAllCases();
let namelist = getGroupNames();
setData(records, namelist);
</script>
<br>
</center>
</body>
</html>
